---
import SocialPill from './SocialPill.astro'
import CodeIcon from './icons/Code.astro'

import Vue from '../components/iconsStack/vue.astro'
import Tailwind from '../components/iconsStack/tailwind.astro'
import Nextjs from '../components/iconsStack/nextjs.astro'
import Nodejs from './iconsStack/nodejs.astro'

const TAGS = {
  VUE: {
    name: 'Vue.js',
    class: 'bg-[#3faa7e] text-white',
    icon: Vue
  },
  NEXT: {
    name: 'Next.js',
    class: 'bg-black text-white',
    icon: Nextjs
  },
  TAILWIND: {
    name: 'Tailwind CSS',
    class: 'bg-[#003159] text-white',
    icon: Tailwind
  },
  NODE: {
    name: 'Node.js',
    class: 'bg-green-800 text-white',
    icon: Nodejs
  }
}

const PROJECTS = [
  {
    name: 'Pokedex',
    image: '/projects/pokeball-cover.webp',
    description: 'Hecha con NextJS para poner en practica mis conocimientos.',
    github: 'https://github.com/ritzudev/pokedex-App',
    link: 'https://pokedex-ritzudev.netlify.app/',
    tags: [TAGS.NEXT, TAGS.TAILWIND]
  },
  {
    name: 'BVB Blog',
    image: '/projects/bvb-escudo.webp',
    description:
      'Blog de mi equipo favorito de futbol, diseñé y desarrollé una página web que aprovecha una API personalizada creada a través de técnicas de web scraping.',
    github: 'https://github.com/ritzudev/newsbvb',
    link: 'https://newsbvb.netlify.app/',
    tags: [TAGS.VUE, TAGS.NODE, TAGS.TAILWIND]
  },
  {
    name: 'Tips Calculator',
    image: '/projects/tips-calculator.webp',
    description:
      'Calculadora de propina con el objetivo simplificar y agilizar el proceso de cálculo de propinas en establecimientos de comida.',
    github:
      'https://github.com/ritzudev/portfolio/blob/master/src/pages/TipsCalculator.vue',
    link: 'https://ritzudevvue.netlify.app/tipscalculator',
    tags: [TAGS.VUE]
  },
  {
    name: 'Rick & Morty',
    image: '/projects/rick&morty.webp',
    description:
      "Me sumergí en el increíble y alocado universo de 'Rick and Morty' al crear un sitio web dedicado a la famosa serie animada.",
    github:
      'https://github.com/ritzudev/portfolio/blob/master/src/pages/Rick%26Morty.vue',
    link: 'https://ritzudevvue.netlify.app/rick&morty',
    tags: [TAGS.VUE]
  },
  {
    name: 'Weather App',
    image: '/projects/weather-app.webp',
    description:
      'Aplicación web de pronóstico del tiempo para mantenerte informado sobre las condiciones meteorológicas en tiempo real.',
    github: 'https://github.com/ritzudev/weather-app',
    link: 'https://weather-app-ritzu.netlify.app/',
    tags: [TAGS.NEXT]
  }
]
---

{
  PROJECTS.map(({ description, github, image, link, name, tags }) => (
    <div class=" img_container anime_img h-[550px] flex flex-col w-full rounded-lg overflow-hidden bg-white dark:bg-white/10  shadow-2xl border dark:border-none">
      <div class=" w-full h-[420px] p-3 flex sm:w-full lg:w-full group overflow-hidden hover:scale-[1] transition-all duration-[850ms] rounded-lg">
        <img
          class="w-full h-auto group-hover:scale-[1.5] object-cover aspect-auto transition-all duration-1000 rounded-lg"
          src={image}
          alt={name}
        />
      </div>
      <div class="p-4 flex flex-col h-full gap-4 overflow-hidden">
        <h2 class="text-2xl text-center dark:text-white">{name}</h2>
        <p
          style="
        "
          class="dark:text-white flex flex-grow text-base"
        >
          {description}
        </p>
        {
          <ul class="flex flex-row mb-2 gap-x-2">
            {tags.map((tag) => (
              <li>
                <span
                  class={`flex gap-x-2 rounded-full items-center text-xs ${tag.class} py-1 px-3 `}
                >
                  <tag.icon class="size-5" />
                  {tag.name}
                </span>
              </li>
            ))}
          </ul>
        }
        <div class="flex justify-between text-white gap-4">
          <SocialPill
            href={github}
            aria-label={'GitHub code de ' + name}
            class=""
          >
            <CodeIcon class="size-6" />
          </SocialPill>

          <SocialPill style={{ width: '100%' }} href={link}>
            Vista Previa
          </SocialPill>
        </div>
      </div>
    </div>
  ))
}

<style>
  .anime_img {
    object-fit: cover;
    animation: img_key linear forwards;
    animation-timeline: view(block);
    animation-range: cover 0% cover 20%;
  }

  @keyframes img_key {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
</style>
